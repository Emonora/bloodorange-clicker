<!DOCTYPE html>
<html>
    <head>
        <title>Simple web game</title>
        <meta charset="UTF-8">
        <style>
            .btn-cfc {
                padding: 10px;
                margin: 10px;
                cursor: pointer;
                position: absolute;
                top: 250px;
                left: 100px;
                background-color: #ff821b;
                border-color: black;
                border-radius: 5px;
                size: 50px;

            }
            html {
                background-color: #e7700e;
            }
            .scorenum {
                position: absolute;
                top: -21px;
                left: 0px;
            }
            .scoreupd {
                animation: scoreupd 0.1s linear;
            }
            @keyframes scoreupd {
                0% {transform: scale(1);}
                1% {transform: scale(1.1);}
                2% {transform: scale(1.2);}
                3% {transform: scale(1.3);}
                4% {transform: scale(1.4);}
                5% {transform: scale(1.5);}
                6% {transform: scale(1.6);}
                7% {transform: scale(1.7);}
                8% {transform: scale(1.8);}
                9% {transform: scale(1.9);}
                10% {transform: scale(2);}
                11% {transform: scale(2.1);}
                12% {transform: scale(2.2);}
                13% {transform: scale(2.3);}
                14% {transform: scale(2.4);}
                15% {transform: scale(2.5);}
                16% {transform: scale(2.6);}
                17% {transform: scale(2.7);}
                18% {transform: scale(2.8);}
                19% {transform: scale(2.9);}
                20% {transform: scale(3);}
                21% {transform: scale(3.1);}
                22% {transform: scale(3.2);}
                23% {transform: scale(3.3);}
                24% {transform: scale(3.4);}
                25% {transform: scale(3.5);}
                26% {transform: scale(3.6);}
                27% {transform: scale(3.7);}
                28% {transform: scale(3.8);}
                29% {transform: scale(3.9);}
                30% {transform: scale(4);}
                31% {transform: scale(4.1);}
                32% {transform: scale(4.2);}
                33% {transform: scale(4.3);}
                34% {transform: scale(4.4);}
                35% {transform: scale(4.5);}
                36% {transform: scale(4.6);}
                37% {transform: scale(4.7);}
                38% {transform: scale(4.8);}
                39% {transform: scale(4.9);}
                40% {transform: scale(5);}
                41% {transform: scale(5.1);}
                42% {transform: scale(5.2);}
                43% {transform: scale(5.3);}
                44% {transform: scale(5.4);}
                45% {transform: scale(5.5);}
                46% {transform: scale(5.6);}
                47% {transform: scale(5.7);}
                48% {transform: scale(5.8);}
                49% {transform: scale(5.9);}
                50% {transform: scale(6);}
                51% {transform: scale(5.9);}
                52% {transform: scale(5.8);}
                53% {transform: scale(5.7);}
                54% {transform: scale(5.6);}
                55% {transform: scale(5.5);}
                56% {transform: scale(5.4);}
                57% {transform: scale(5.3);}
                58% {transform: scale(5.2);}
                59% {transform: scale(5.1);}
                60% {transform: scale(5);}
                61% {transform: scale(4.9);}
                62% {transform: scale(4.8);}
                63% {transform: scale(4.7);}
                64% {transform: scale(4.6);}
                65% {transform: scale(4.5);}
                66% {transform: scale(4.4);}
                67% {transform: scale(4.3);}
                68% {transform: scale(4.2);}
                69% {transform: scale(4.1);}
                70% {transform: scale(4);}
                71% {transform: scale(3.9);}
                72% {transform: scale(3.8);}
                73% {transform: scale(3.7);}
                74% {transform: scale(3.6);}
                75% {transform: scale(3.5);}
                76% {transform: scale(3.4);}
                77% {transform: scale(3.3);}
                78% {transform: scale(3.2);}
                79% {transform: scale(3.1);}
                80% {transform: scale(3);}
                81% {transform: scale(2.9);}
                82% {transform: scale(2.8);}
                83% {transform: scale(2.7);}
                84% {transform: scale(2.6);}
                85% {transform: scale(2.5);}
                86% {transform: scale(2.4);}
                87% {transform: scale(2.3);}
                88% {transform: scale(2.2);}
                89% {transform: scale(2.1);}
                90% {transform: scale(2);}
                91% {transform: scale(1.9);}
                92% {transform: scale(1.8);}
                93% {transform: scale(1.7);}
                94% {transform: scale(1.6);}
                95% {transform: scale(1.5);}
                96% {transform: scale(1.4);}
                97% {transform: scale(1.3);}
                98% {transform: scale(1.2);}
                99% {transform: scale(1.1);}
                100% {transform: scale(1);}
            }
        </style>
    </head>
    <body>
        <main class="game">
            <h3 class="scorenum">0</h3>
          <button type="button" class="btn-cfc" onclick="scoreupdate()"></button>
        </main>
    </body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.js"></script>
    <script>
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        let score = 0;
        let h3 = document.getElementsByClassName("scorenum");
        function getcookies () {
            var cookies = document.cookie.split(';');
            var scoreCookie = cookies.find(c => c.trim().startsWith('score='));
            return scoreCookie? parseInt(scoreCookie.split('=')[1]) : 0;
        }
        function setcookies (score) {
            document.cookie ='score=' + score + '; path=/';
        }
        if (getcookies() != null) {
            $('.scorenum').text(getcookies());
            score = getcookies(); // update score value to avoid re-calculating it in case of page refresh or back navigation.
        } else {
            setcookies(score);
        }

        async function scoreupdate () {
            score++;
            $('.scorenum').text(score);
            $(h3).addClass('scoreupd');
            await sleep(101);
            $(h3).removeClass('scoreupd');
            setcookies(score);
        }
    </script>
</html>
